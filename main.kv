#:import Factory kivy.factory.Factory
#:import Screen kivy.uix.screenmanager.Screen

<CAROUSEL@Button>:
	markup: True
	size: self.parent.size
	size_hint: 1, 1

<Status@Button>
	size_hint_x: None
	width: '150sp'
	height: '20sp'

<Container>:
    canvas.before:
        Color:
            rgb: 0, 0, 0
        Rectangle:
            pos: self.pos
            size: self.size

<ProcrastinateLater>:
    orientation: "vertical"
    BoxLayout:
        padding: '3sp'
        spacing: '4sp'
        canvas:
            Color:
                rgba: 1,1,1,.2
            Rectangle:
                pos: self.pos
                size: self.size        
        size_hint: 1, .1
		Button:
		    text: 'Categories'
			size_hint: 3, 1
			on_press: sm.current = 'ViewCategoryPage'
		Button:
			Image:
				source: './icons/search.png'
				y: self.parent.y
				x: self.parent.x
				size: self.parent.size
		Button:
			Image:
				source: './icons/add.png'
				y: self.parent.y
				x: self.parent.x
				size: self.parent.size
		Button:
			id: menu
			Image:
				source: './icons/option.png'
				y: self.parent.y
				x: self.parent.x
				size: self.parent.size
				
	ScreenManager:
		id: sm
		Screen:
			name: 'ViewCategoryPage'
			canvas:
				Color:
					rgba: 1, 1, 1, .8
				Rectangle:
					size: self.size
			BoxLayout:
                id: category_page
				orientation: 'vertical'
				padding: '50sp'
				spacing: '15sp'
				
				Button:
					size_hint: 1, None
					size_y: '48dp'
					text: 'View Task by Status'
					on_press: root.loadTasksByStatus
					
				Button:
					size_hint: 1, None
					size_y: '48dp'
					text: 'View Task by Category'
					on_press: root.loadTasksByCategory

        Screen:
            name: 'ViewTasks'
            PageLayout:
                id: ViewPage

        # View Task Page
		Screen:
			name: 'ViewTaskPage'
			BoxLayout:
				rows: 2
				orientation: 'vertical'
				padding: '3sp'
				spacing: '4sp'
				canvas:
				    Color:
				        rgba: 2,2,2,.3
				    Rectangle:
				        pos: self.pos
				        size: self.size

				Carousel:
					id: taskCarousel
					size_hint: 1, .15
                    loop: 'true'

				BoxLayout:
					orientation: 'horizontal'
					TabbedPanel:
						id: taskDays
						do_default_tab: False
						padding: '3sp'
						spacing: '4sp'
						TabbedPanelItem:
							id: day_mon
							text: 'Monday'
						TabbedPanelItem:
							id: day_tue
							text: 'Tuesay'
						TabbedPanelItem:
							id: day_wed
							text: 'Wednesday'
						TabbedPanelItem:
							id: day_thu
							text: 'Thursday'
						TabbedPanelItem:
							id: day_fri
							text: 'Friday'
						TabbedPanelItem:
							id: day_sat
							text: 'Saturday'
						TabbedPanelItem:
							id: day_sun
							text: 'Sunday'
